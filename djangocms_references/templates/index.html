{% extends "admin/base_site.html" %}
{% load i18n admin_urls static djangocms_references_tags %}

{% block content %}
<h1>CMS References</h1>

<div class="results">
    <h5>Content type objects:</h5>
    <br/>
     <table id="result_list">

        <thead >
            <tr>
                <th>{% trans "Title" %}</th>
                <th>{% trans "URL" %}</th>
                <th>{% trans "Content Type" %}</th>
            </tr>
        </thead>

        <tbody>
         {% for obj in querysets %}
          <tr>
             <td>{{ obj }}</td>
             <td><a href="{% object_preview_url obj %}">{% object_preview_url obj %}</a>  </td>
             <td>{% object_model obj.placeholder.source %}</td>
          </tr>
        {% empty %}
         <tr>
             <td colspan="3"><strong>{% trans "There are no related content type objects" %}</strong></td>
         </tr>
        {% endfor %}
        </tbody>
     </table>

    <br/>
    <h5>Plugins objects:</h5>
    <br/>
     <table id="result_list">
                <thead>
                    <tr>
                        <th>{% trans "Title" %}</th>
                        <th>{% trans "URL" %}</th>
                        <th>{% trans "Content Type" %}</th>

                    </tr>
                </thead>
                <tbody>
    {% for plugins in plugin_querysets %}
        {% for obj in plugins %}
            <tr>
             <td>{{ obj.placeholder.source }}</td>
             <td><a href="{%  object_preview_url obj.placeholder.source %}">{%  object_preview_url obj.placeholder.source %}</a>  </td>
             <td>{%  object_model obj.placeholder.source %}</td>
            </tr>
        {% endfor %}
    {% empty %}
          <tr>
             <td colspan="3"><strong>{% trans "There are no related plugin objects" %}</strong></td>
         </tr>
    {% endfor %}
                </tbody>
     </table>
</div>

{% endblock %}